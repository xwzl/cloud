[](https://www.jianshu.com/p/f5f6ff32ee90)
### 让我们来看下这些概念的定义：

- Bindings — 声明输入和输出通道的接口集合。
- Binder — 消息中间件的实现，如Kafka或RabbitMQ
- Channel — 表示消息中间件和应用程序之间的通信管道
- StreamListeners — bean中的消息处理方法，在中间件的MessageConverter特定事件中进行对象序列化/反序列化之后，将在信道上的消息上自动调用消息处理方法。
- Message Schemas — 用于消息的序列化和反序列化，这些模式可以静态读取或者动态加载，支持对象类型的演变。

将消息发布到指定目的地是由发布订阅消息模式传递。发布者将消息分类为主题，每个主题由名称标识。订阅方对一个或多个主题表示兴趣。中间件过滤消息，将感兴趣的主题传递给订阅服务器。订阅方可以分组，消费者组是由组ID标识的一组订户或消费者，其中从主题或主题的分区中的消息以负载均衡的方式递送。

![](https://upload-images.jianshu.io/upload_images/11464886-1668d5ea6e0239c2.png?imageMogr2/auto-orient/)

### 

说明：最底层是消息服务，中间层是绑定层，绑定层和底层的消息服务进行绑定，顶层是消息生产者和消息消费者，顶层可以向绑定层生产消息和和获取消息消费

- Barista接口：Barista接口是定义来作为后面类的参数，这一接口定义通道类型和通道名称，通道名称是作为配置用，通道类型则决定了app会使用这一通道进行发送消息还是从中接收消息。
- @Output: 输出注解，用于定义发送消息接口
- @Input: 输入注解，用于定义消息的消费者接口
- @StreamListener: 用于定义监听方法的注解

多实例启动会发送多次吗？

多实例启动发现是不同的队列，因此我们需要分组